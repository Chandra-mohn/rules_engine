---
context: Premium High Value Context
---

// Process cash advance requests with fees

rule "Cash Advance Processing":
    if transaction.type == "CASH_ADVANCE" and transaction.amount <= account.cashAdvanceLimit then
        approveCashAdvance(transaction.amount),
        applyFee(transaction.amount * 0.03),
        updateAccountBalance(transaction.amount + transaction.amount * 0.03)
    else
        declineTransaction("Cash advance limit exceeded")
   endif 